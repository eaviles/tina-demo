{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nconst v1 = new Vector3();\nconst v2 = new Vector3();\nconst v3 = new Vector3();\n\nconst noReactDomError = () => {\n  throw new Error(`Html component requires a 'react-dom' package, please install it`);\n};\n\nlet ReactDOM = {\n  unmountComponentAtNode: noReactDomError,\n  render: noReactDomError\n}; // workaround to not to break apps that doesn't have react-dom,\n// don't use Html component and import from the root\n// e.g. `import { OrbitControls } from '@react-three/drei'`\n\ntry {\n  ReactDOM = require('react-dom');\n} catch {// react-dom isn't installed\n}\n\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  const intersects = raycaster.intersectObjects(occlude, true);\n\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n\n  return true;\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\n\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\n\nconst Html = /*#__PURE__*/React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occlude,\n  onOcclude,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  as = 'div',\n  pointerEvents = 'auto',\n  ...props\n}, ref) => {\n  var _portal$current;\n\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const size = useThree(({\n    size\n  }) => size);\n  const raycaster = useThree(({\n    raycaster\n  }) => raycaster);\n  const [el] = React.useState(() => document.createElement(as));\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  const target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useEffect(() => {\n    if (group.current) {\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return () => {\n        if (target) target.removeChild(el);\n        ReactDOM.unmountComponentAtNode(el);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, transform]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents\n  }), [pointerEvents]);\n  React.useLayoutEffect(() => {\n    if (transform) {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))), el);\n    } else {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  const visible = React.useRef(true);\n  useFrame(() => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n        let raytraceTarget = false;\n\n        if (typeof occlude === 'boolean') {\n          if (occlude === true) {\n            raytraceTarget = [scene];\n          }\n        } else if (Array.isArray(occlude)) {\n          raytraceTarget = occlude.map(item => item.current);\n        }\n\n        const previouslyVisible = visible.current;\n\n        if (raytraceTarget) {\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n\n        el.style.zIndex = `${objectZIndex(group.current, camera, zIndexRange)}`;\n\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\nexport { Html };","map":{"version":3,"sources":["/Users/alisablakeney/coding/websites/longest-hum/client/node_modules/@react-three/drei/web/Html.js"],"names":["_extends","React","Vector3","OrthographicCamera","PerspectiveCamera","useThree","useFrame","v1","v2","v3","noReactDomError","Error","ReactDOM","unmountComponentAtNode","render","require","defaultCalculatePosition","el","camera","size","objectPos","setFromMatrixPosition","matrixWorld","project","widthHalf","width","heightHalf","height","x","y","isObjectBehindCamera","cameraPos","deltaCamObj","sub","camDir","getWorldDirection","angleTo","Math","PI","isObjectVisible","raycaster","occlude","elPos","screenPos","clone","setFromCamera","intersects","intersectObjects","length","intersectionDistance","distance","pointDistance","distanceTo","ray","origin","objectScale","zoom","vFOV","fov","dist","scaleFOV","tan","objectZIndex","zIndexRange","A","far","near","B","round","undefined","epsilon","value","abs","getCSSMatrix","matrix","multipliers","prepend","matrix3d","i","elements","getCameraCSSMatrix","getObjectCSSMatrix","scaleMultipliers","factor","f","Html","forwardRef","children","eps","style","className","center","fullscreen","portal","distanceFactor","sprite","transform","onOcclude","calculatePosition","as","pointerEvents","props","ref","_portal$current","gl","scene","useState","document","createElement","group","useRef","oldZoom","oldPosition","transformOuterRef","transformInnerRef","target","current","domElement","parentNode","useEffect","updateMatrixWorld","cssText","vec","appendChild","removeChild","styles","useMemo","position","top","left","transformStyle","transformInnerStyles","useLayoutEffect","visible","updateWorldMatrix","isBehindCamera","raytraceTarget","Array","isArray","map","item","previouslyVisible","isvisible","display","zIndex","projectionMatrix","isOrthographicCamera","bottom","right","cameraMatrix","matrixWorldInverse","cameraTransform","transpose","copyPosition","scale","perspective"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst v1 = new Vector3();\nconst v2 = new Vector3();\nconst v3 = new Vector3();\n\nconst noReactDomError = () => {\n  throw new Error(`Html component requires a 'react-dom' package, please install it`);\n};\n\nlet ReactDOM = {\n  unmountComponentAtNode: noReactDomError,\n  render: noReactDomError\n}; // workaround to not to break apps that doesn't have react-dom,\n// don't use Html component and import from the root\n// e.g. `import { OrbitControls } from '@react-three/drei'`\n\ntry {\n  ReactDOM = require('react-dom');\n} catch {// react-dom isn't installed\n}\n\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  const intersects = raycaster.intersectObjects(occlude, true);\n\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n\n  return true;\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\n\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\n\nconst Html = /*#__PURE__*/React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occlude,\n  onOcclude,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  as = 'div',\n  pointerEvents = 'auto',\n  ...props\n}, ref) => {\n  var _portal$current;\n\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const size = useThree(({\n    size\n  }) => size);\n  const raycaster = useThree(({\n    raycaster\n  }) => raycaster);\n  const [el] = React.useState(() => document.createElement(as));\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  const target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useEffect(() => {\n    if (group.current) {\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return () => {\n        if (target) target.removeChild(el);\n        ReactDOM.unmountComponentAtNode(el);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, transform]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents\n  }), [pointerEvents]);\n  React.useLayoutEffect(() => {\n    if (transform) {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))), el);\n    } else {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  const visible = React.useRef(true);\n  useFrame(() => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n        let raytraceTarget = false;\n\n        if (typeof occlude === 'boolean') {\n          if (occlude === true) {\n            raytraceTarget = [scene];\n          }\n        } else if (Array.isArray(occlude)) {\n          raytraceTarget = occlude.map(item => item.current);\n        }\n\n        const previouslyVisible = visible.current;\n\n        if (raytraceTarget) {\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n\n        el.style.zIndex = `${objectZIndex(group.current, camera, zIndexRange)}`;\n\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\n\nexport { Html };\n"]},"metadata":{},"sourceType":"module"}